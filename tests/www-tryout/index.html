<!DOCTYPE html>
<html lang="pt_BR">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Validação de Telefones</title>

    <link rel="stylesheet" href="../../vendor/twbs/bootstrap/dist/css/bootstrap.min.css">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="../../vendor/twbs/bootstrap/dist/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        var XMLHttpFactories = [
            function () {return new XMLHttpRequest()},
            function () {return new ActiveXObject("MSXML2.XMLHTTP.6.0")},
            function () {return new ActiveXObject("MSXML2.XMLHTTP.3.0")},
            function () {return new ActiveXObject("Msxml2.XMLHTTP")},
            function () {return new ActiveXObject("Microsoft.XMLHTTP")}
        ];

        function createXMLHTTPObject() {
            var xmlhttp = false;
            for (var i=0;i<XMLHttpFactories.length;i++) {
                try {
                    xmlhttp = XMLHttpFactories[i]();
                }
                catch (e) {
                    continue;
                }
                break;
            }
            return xmlhttp;
        } 

        function submitForm(formulario) {
            var request = new createXMLHTTPObject();
            if (!request) return;

            request.open("POST", "phone_test.php",  false); 
            //request.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

            var oDados = new FormData(document.getElementById(formulario));
            oDados.append('submit', 'submit');
            request.send(oDados);
            
            document.getElementById("returned_message").innerHTML = request.responseText;
            //console.log(request.responseText);
        }
    </script>



    <style type="text/css">
        .container-fluid {
            width: 95%; 
            /*background-color: #FAFAFA;*/
        }

        .divider {
            width: 90%;
            height: 1px;
            border-top: 0;
            background: #CCCCCC;
        }
    </style>
</head>
<body>

    <div class="container-fluid well">
        <div class="panel panel-default" /*style="background-color: red"*/>
            <div class="panel-body">
                <div class="row">
                    <div id="testPhone" class="panel panel-primary" /*style="background-color: #CCEECC;"*/>
                        <div class="panel-heading">Validar Telefone (Brasil):</div>
                        <div class="panel-body">
                            <form id="frmGetPhone" name="frmGetPhone" method="POST">
                                <label class="sr-only" for="txt_phone">Telefone: </label>
                                <div class="col-sm-11">
                                    <input type="text" class="form-control" id="txt_phone" name="txt_phone" placeholder="Insira o telefone para validar" />
                                </div>
                                <input type="hidden" name="id_form" value="validation" />
                                <button type="button" class="btn btn-default" onclick="submitForm('frmGetPhone');">
                                    Validar
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
                <div id="returned_message" /*style="background-color: #CCCCCC;"*/>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        document.getElementById('frmGetPhone').onsubmit = function(event) {
            event.preventDefault();

            submitForm('frmGetPhone');
        }
    </script>
</body>
</html>

